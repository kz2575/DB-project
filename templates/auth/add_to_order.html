{% extends 'base.html' %}

{% block title %}Add to Order{% endblock %}

{% block header %}
<h2>Add Items to Current Order</h2>
{% endblock %}

{% block content %}
<form method="post" class="form-container">
  <label for="main_category">Select Main Category:</label>
  <select id="main_category" name="main_category" required>
    <option value="" disabled selected>Select a category</option>
    {% for category in categories %}
      <option value="{{ category['mainCategory'] }}">{{ category['mainCategory'] }}</option>
    {% endfor %}
  </select>

  <label for="sub_category">Select Sub Category:</label>
  <select id="sub_category" name="sub_category" required>
    <option value="" disabled selected>Select a subcategory</option>
    {% for category in categories %}
      <option value="{{ category['subCategory'] }}">{{ category['subCategory'] }}</option>
    {% endfor %}
  </select>

  <button type="submit">Show Items</button>
</form>

{% if items %}
  <h3>Available Items</h3>
  <form method="post" class="form-container">
    <label for="item_id">Select Item:</label>
    <select id="item_id" name="item_id" required>
      <option value="" disabled selected>Select an item</option>
      {% for item in items %}
        <option value="{{ item['itemID'] }}">{{ item['iDescription'] }}</option>
      {% endfor %}
    </select>

    <button type="submit">Add to Order</button>
  </form>
{% endif %}
{% endblock %}
